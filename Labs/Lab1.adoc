= Отчет по лабораторной работе №1

:autor:                 Анисимова А.М.
:numGroup:              КЭ-413
:numLab:                1
:checker:               С.В. Колодий
:year:                  2024

:toc:
:imagesdir:             Images
:toc-title:             Оглавление
:figure-caption:        Рисунок
:table-caption:         Таблица
:sectnums:              |,all|

[attributes]
====
include::Titl.adoc[]
====





== Процесс разработки ПО

.Жизненный цикл продукта
image::Lab1_1.png[]

Данная методология выделяет основные этапы жизненного цикла программного продукта и отражает этапы разработки ПО.

.  Планирование (Planning) — на этом этапе разрабатывается детальный план проекта. Определяются сроки, бюджет, ресурсы и задачи. Этап включает в себя определение команды разработки, распределение обязанностей и создание графика работ.
.  Анализ требований (Requirements Analysis) — в рамках этого этапа осуществляется сбор и документирование требований к программному продукту. Он включает в себя общение с заказчиком и конечными пользователями для понимания их потребностей. Результатом этого этапа является создание документа с требованиями.
.  Проектирование и дизайн (Design) — в рамках этого этапа разрабатывается архитектура программного продукта. Проектируются структура данных, интерфейсы пользователя, компоненты системы и алгоритмы. Этот этап также включает в себя создание дизайна пользовательского интерфейса (UI) и определение технических спецификаций.
.  Разработка (Development) — на этом моменте начинается активное создание кода. Разработчики пишут программу в соответствии с требованиями и дизайном, определенными на предыдущих этапах. Разработка может включать в себя создание различных модулей, компонентов и функциональных частей программы.
.  Тестирование и интеграция (Testing & Deployment) — в рамках этого этапа происходит проверка качества программного продукта с помощью различных видов тестирования, включая модульное, интеграционное, функциональное и другие виды. После тестирования ПО выпускается в продакшн. Оно устанавливается на целевой сервер или распространяется конечным пользователям.
.  Поддержка (Support) — после выпуска ПО продолжает поддерживаться и обновляться. Этап может включать в себя внедрение обновлений, исправление возникающих ошибок, предоставление технической поддержки пользователям и реагирование на запросы на изменение или добавление необходимых функций.

== Компиляция, линковка и загрузка кода

.Компиляция исходных текстов на Си
image::Lab1_2.png[]

=== Компиляция кода
Компиляция – это процесс превращения исходного кода который написал программист) в код, понятный компьютеру.

Процесс компиляции состоит из следующих этапов:

.   Лексический анализ. Последовательность символов исходного файла преобразуется в последовательность лексем.
Синтаксический анализ. Последовательность лексем преобразуется в дерево разбора.
.   Семантический анализ. Дерево разбора обрабатывается с целью установления его семантики (смысла) — например, привязка идентификаторов к их декларациям, типам, проверка совместимости, определение типов выражений и т. д.
.   Оптимизация. Выполняется удаление излишних конструкций и упрощение кода с сохранением его смысла.
Генерация кода. Из промежуточного представления порождается объектный код.
Результатом компиляции является объектный код.

Объектный код — это программа на языке машинных кодов с частичным сохранением символьной информации, необходимой в процессе сборки.

При отладочной сборке возможно сохранение большого количества символьной информации (идентификаторов переменных, функций, а также типов).

==== Препроцессинг
Препроцессинг происходит перед компиляцией кода.
Препроцессор — компьютерная программа, принимающая данные на входе и выдающая данные, предназначенные для входа другой программы (например, компилятора).

Исходный текст частично обрабатывается — производятся:

-  Замена комментариев пустыми строками
-  Текстовое включение файлов — #include
-  Макроподстановки — #define
-  Обработка директив условной компиляции — #if, #ifdef, #elif, #else, #endif

=== Линовка кода
Линовка также называется компановкой, связыванием или сборкой.
Это последний этап процесса получения исполняемого файла, состоящий из связывания воедино всех объектных файлов проекта.

При этом возможны ошибки связывания.
Если, допустим, функция была объявлена, но не определена, ошибка обнаружится только на этом этапе.

=== Загрузка кода
Загрузка — это процесс перемещения скомпилированной и слинкованной программы в память устройства для выполнения, будь то компьютер или микроконтроллер.

== Запуск кода на микроконтроллер
Запуск кода на микроконтроллере обычно включает несколько шагов:

.   Компиляция: Программа на языке высокого уровня компилируется в машинный код для конкретного микроконтроллера.
.   Загрузка: Программа загружается в память микроконтроллера (обычно через интерфейс, такой как JTAG или SWD). Для этого используется специальное программное обеспечение, называемое программатором.
.   Инициализация: После загрузки микроконтроллер выполняет инициализацию, включая настройку регистров и портов ввода/вывода.
.   Исполнение: Микроконтроллер начинает выполнять загруженную программу. Программа может работать циклично (бесконечный цикл) или иметь конечное выполнение в зависимости от её логики.

.Блок-схема алгоритма работы основной программы
image::Lab1_3.png[]

== Стек кода и его влияние на результат программы

Стек — это специальная область памяти, которая используется для хранения временных данных, таких как локальные переменные, параметры функций и адреса возврата. Каждый вызов функции создает новый кадр в стеке, который удаляется после завершения выполнения функции.

.Инициализация стека
image::Lab1_4.png[]

Одна из самых распространеных ошибок стека, влияющая на результат программы:

Переполнение стека (stack overflow) может произойти, если программа использует слишком много памяти в стеке, например, при глубокой рекурсии или большом количестве локальных переменных.

=== Инициализация переменных в стеке

После подачи питания на микроконтроллер, регистр адреса команды указывает на 0 адрес, микроконтроллер начинает работу с адреса 0. По адресу 0, находится таблица векторов перываний, по начальному вектору находится команда инициализации указателя стека на конечный адрес стека и далее перехода на функцию инициализации.

После подачи питания и инифциализации стека, выполняется функция инициализации памяти нулями (данные указанные как zero-initialized data, непроинциализированные глобальные переменные, такие как int i;)

.Стадия инициализации непроинициализированных переменных
image::Lab1_5.png[]

Далее должна произойти инициализация данных определенных как initialized data,например int i = 6. Значения инициализации для каждой переменной будут скопированы из ПЗУ в ОЗУ.

.Стадия инициализации проинициализированных переменных
image::Lab1_6.png[]

== Ответы по лекции №1


Дайте определение понятию “Интегрированной среде разработки”::

Ответ: Интегрированная среда разработки - это комплекс средств, используемый для разработки нового программного обеспечения.

Что такое компилятор и чем он отличается от транслятора?::

Ответ: Компилятор - это программа, которая преобразует исходный код программы, написанный на каком-либо языке программирования высокого уровня (например, C++), в машинный код, который может быть обработан микроконтроллером. Он также осуществляет проверку кода на корректность написания. Результатом работы компилятора является создание объектных файлов, в которых содержится машинный код.
Транслятор - это программа, осуществляющая перевод кода с одного языка программирования на другой. Транслятор также осуществляет проверку синтаксиса. Отличие компилятора и транслятора заключается в том, что результатом работы компилятора являются объектные файлы, предназначенные для дальнейшего создания исполнительного файла. Транслятор же осуществляет конвертацию написанного кода в другой язык программирования, он не  предназначен для создания объектных файлов.

Что такое компоновщик и какие функции он выполняет?::
Ответ: Линкер (компоновщик) осуществляет сборку объектных файлов, созданных компилятором, и используемых в программе библиотек в единый исполняемый файл (формата .hex или .elf).

Почему важен процесс проектирования ПО. Какие задачи входят в этот процесс?::
Ответ: Процесс проектирования ПО является важным, так как при хорошо проведенном проектировании программа будет качественно исполнять поставленные перед ней задачи, а также ее будет легко поддерживать и развивать. Основные этапы проектирования ПО: анализ требований; разработка архитектуры; кодирование; тестировние.


Зачем нужна отладка и в каких случаях она применяется? Для чего применяются точки остановки?::
Ответ: Отладка представляет собой пошаговый процесс проверки работоспособности программы. Во время отладки разработчик может просматривать значения переменных, проверить содержимое памяти, стек, состояние регистров. Точка остановки - это заданная  вручную точка в программе, которую разработчик хочет проверить. На точке остановки программа приостанавливает свое выполнение на текущем этапе работы.

Какие еще важные характеристики IAR Workbench можно добавить в таблицу?::
Ответ: Другими важными характеристиками являются:
* Поддержка двух уровней языка C++: Embedded C++ (предназначен для программирования встраиваемых систем); IAR Extended Embedded C++ (обеспечивает полную поддержку шаблонов, пространства имен,  поддерживает множественное наследование, а также новые операторы типов).
* Поддержка различных типов ядер ARM и устройств, основанных на версиях ARM 4, 5, 6, 6M, 7.
* IAR имеет большой каталог файлов, созданных специально для поддерживаемых устройств.

== Вывод из лекции №1

В ходе лабораторной работы на паре было изучено:

* Как создавать проект в IAR Workbench.

* Как откомпилировать и отлинковывать программу.

* Как проводить пошаговую отладку и устанавливать точки остановки.

* Что такое оптимизация компилятора и каким образом она влияет на ход работы программы.

* Что такое стек и каким образом его размер влияет на работу программы.

